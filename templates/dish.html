<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>吃了么</title>
    <link href="https://cdn.staticfile.org/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script type="text/javascript"
            src="http://api.map.baidu.com/getscript?v=3.0&ak=tdfjfQq8B4ETmpg93UMWGWrL8yprpI5Q"></script>
    <script src="/static/js/jquery.tmpl.js"></script>
    <script src="/static/js/paginator.js"></script>
    <script src="/static/js/locator.js"></script>
    <script src="/static/js/dish.js"></script>
    <style>
        html, body, .container {
            height: 100%;
            top: 0;
        }

        .row {
            margin: 10px;
        }

        .btn-group {
            width: 100%;
        }

        .flex-grow-1 {
            overflow: scroll;
            scrollbar-width: none;
        }

        div::-webkit-scrollbar {
            width: 0;
        }

        .sidebar {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 60px;
            background-color: rgba(0, 0, 0, 0.8);
        }

        .sidebar .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
        }

        #sidebar-btn {
            position: fixed;
            left: 0;
            top: 30%;
        }

        .sidebar .row {
            color: aliceblue;
        }

    </style>
</head>
<body>
<div id="mySidebar" class="sidebar d-flex flex-column">
    <div class="row">
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="total-price" value="总价：￥0" disabled>
            <div class="input-group-append">
                <button class="btn btn-primary" type="button">下单</button>   <!-- TODO-->
            </div>
        </div>
        <a href="javascript:void(0)" class="closebtn"
           onclick="document.getElementById('mySidebar').style.width = '0'">×</a>
    </div>
    <div class="flex-grow-1" id="card-list-container">

    </div>
</div>

<button id="sidebar-btn" class="btn btn-danger" onclick="document.getElementById('mySidebar').style.width = '550px'">
    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart4" fill="currentColor"
         xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd"
              d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"></path>
    </svg>
</button>

<div class="container d-flex flex-column justify-content-between">
    <div class="row">
        <a class="col-4"
           style="background-image: url('/static/images/0123456789abc.png'); background-size: 100% 100%" href="/index">
        </a>
        <div class="col-8">
            <div class="row">
                <div class="col-6">
                    <button type="button" class="btn btn-outline-dark" id="locator-addr" style="width: 100%">&nbsp;
                    </button>
                </div>
                <div class="col-6">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-secondary">我的</button>
                        <button type="button" class="btn btn-secondary">退出</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <div class="input-group">
                        <input id="addr" type="text" class="form-control" aria-label="addr"
                               aria-describedby="label-addr" value="{{ addr }}">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" id="locator-show" type="button">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-geo-alt"
                                     fill="currentColor"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                          d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    <div class="input-group">
                        <input type="text" class="form-control" id="header-search" placeholder="搜索菜品"
                               aria-label="search"
                               aria-describedby="header-search">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" id="header-search-button" type="button">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search"
                                     fill="currentColor"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                          d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"></path>
                                    <path fill-rule="evenodd"
                                          d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="btn-group btn-group-toggle" data-toggle="buttons">
        <label class="btn btn-outline-primary">
            <input type="radio" name="order" id="price"> 消费最低
        </label>
        <label class="btn btn-outline-primary active">
            <input type="radio" name="order" id="sales" checked> 销量最高
        </label>
    </div>
    <span>&nbsp;</span>
    <div class="flex-grow-1" id="data-container"></div>
    <ul class="pagination justify-content-center"></ul>
</div>

<script id="data-template" type="text/x-jquery-tmpl">
    <div class="card mb-3">
        <div class="row no-gutters" >
            <div class="col-md-4">
                <img src="/static/images/${image}" class="card-img" alt="${name}">
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-title">${name}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">价格￥${price} 销量 ${sales}</h6>
                    <p class="card-text">${desc}</p>
                    <button class="btn btn-primary" onclick="add_dish_to_card('${name}',${dish_id},'${image}',${price})">加入购物车</button>
                </div>
            </div>
        </div>
    </div>
</script>
<script id="card-list-template" type="text/x-jquery-tmpl">
    <div class="card mb-3" style="width: 500px; margin: 0 auto">
        <img src="/static/images/${image}" class="card-img" alt="${name}">
        <div class="card-body">
            <h5 class="card-title">${name}</h5>
            <p class="card-text">单价￥${price}</p>
            <div class="input-group">
                <div class="input-group-preappend">
                    <span class="input-group-text">数量</span>
                </div>
                <input id="dish-${dish_id}" type="number" class="form-control" value="${amount}" onchange="amount_change(${dish_id})">
            </div>
        </div>
    </div>
</script>
<script type="text/javascript">
    shop_id = {{ shop_id }};
    default_lng = {{ loc_lng }};
    default_lat = {{ loc_lat }};
</script>
</body>
</html>